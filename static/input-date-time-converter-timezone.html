
<div id="app">
    <div class="app-content">
        <div class="oj-flex">
            <div class="oj-flex-item app-has-right-gap">
                <oj-input-date-time value="{{inputValue}}" label-hint="Input value"
                                    converter="[[inputConverter]]"></oj-input-date-time>
            </div>
            <div class="oj-flex-item oj-sm-flex-0">
                <oj-button class="oj-button-lg" on-oj-action="[[onApply]]">Apply</oj-button>
            </div>
        </div>
    </div>
    <div class="app-content">
        <code>
            <oj-bind-text value="[[inputValue]]"></oj-bind-text>
        </code>
    </div>
</div>

<script src="../web/js/libs/require/require.js"></script>
<script src="main.js"></script>


<script>
    requirejs.config({baseUrl: '../../../web/js'});
    require(['knockout', 'ojs/ojconverter-datetime', 'ojs/ojknockout', 'ojs/ojbutton', 'ojs/ojdatetimepicker'
    ], function (ko, DateTimeConverter) {
        let app = new function () {
            this.inputValue = ko.observable();
            // this.inputValue = ko.observable('5/20/20 13:48 am');
            // this.inputValue = ko.observable('2020-05-20T13:48:59+05:00');

            // this.inputConverter = new DateTimeConverter.IntlDateTimeConverter({
            //     pattern: "M/d/yy hh:mm a Z"
            // });

            // this.inputConverter = new DateTimeConverter.IntlDateTimeConverter({
            //     "pattern": "M/d/yy hh:mm a Z",
            //     "timeZone": "Etc/UTC"
            // });

            this.inputConverter = new DateTimeConverter.IntlDateTimeConverter({
                "pattern": "M/d/yy",
                "timeZone": "America/Los_Angeles"
            });

            this.onApply = () => {
                console.log("Applying value: " + this.inputValue());
            }

            // // Display Available TimeZone
            // let timezones = this.inputConverter.getAvailableTimeZones();
            // for (let t of timezones) {
            //     console.log("timezone: ", t);
            // }
        };
        ko.applyBindings(app);
    });
</script>
