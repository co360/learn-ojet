<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="/css/redwood/9.0.1/web/redwood.css" id="css" />
    <script type="text/javascript" src="/js/libs/require/require.js"></script>
    <script type="text/javascript" src="/js/main.js"></script>
    <script>
        // NOTE: Inside button text label, you must wrap a "span" element if you want
        // to update it! If you don't the auto generated span will not be removed!
        requirejs.config({baseUrl: '/js'});
        require(['knockout', 'ojs/ojknockout', 'ojs/ojbutton'], function (ko) {
            const app = new function() {
                this.buttonLabel = ko.observable('Foo');
                this.onAction = (event) => {
                    console.log("event", event);
                    this.buttonLabel('Foo' + Math.random());
                }
            }
            ko.applyBindings(app, document.getElementById("app"));
        });
    </script>
</head>
<body>
  <div id="app" class="oj-web-padding">
    <oj-button on-oj-action="[[onAction]]">
        <span><oj-bind-text value="[[buttonLabel]]"></oj-bind-text></span>
    </oj-button>
  </div>
</body>
</html>
